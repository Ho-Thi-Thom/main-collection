(()=>{function I(){function r(t){t.innerHTML="Loading..."}function c(t){t.innerHTML=""}function g(t,e){let d=new URLSearchParams(e);return t(d),window.location.pathname+"?"+d.toString()}function l(t,e){let d=new URLSearchParams(e),h={};d.forEach(function(y,P){h[P]||(h[P]=[]),h[P].push(y)}),t(h);let q=new URLSearchParams;return Object.keys(h).forEach(y=>{h[y].forEach(P=>{q.append(y,P)})}),`${window.location.pathname}?${q.toString()}`}function o(t,e){return fetch(t,e).then(d=>d.text()).then(d=>x(d))}function a(t){let e=document.querySelector("#collection__products");t.querySelectorAll("#collection__products > *")?.forEach(d=>{e?.appendChild(d)})}function u(t){let e=document.querySelector("#collection__products");t&&(e.parentNode.replaceChild(t,e),e=t)}function n(t){let e=document.querySelector(".product_count");t&&e.parentNode.replaceChild(t,e)}function i(t){let e=document.querySelector(".collection__toolbar-filter-showing");t&&e.parentNode.replaceChild(t,e)}function s(t,e){let d=document.querySelector("#infinity_point");t&&(d.parentNode.replaceChild(t,d),e(t))}function f(t,e){let d=document.querySelector(".paginate");t&&(d.parentNode.replaceChild(t,d),e(document.querySelectorAll(".paginate_link[data-url]")))}function x(t){let e=document.createElement("div");return e.innerHTML=t,{getElementProduct(){return e.querySelector("#collection__products")},getProductCount(){return e.querySelector(".product_count")},getElementPointInfinity(){return e.querySelector("#infinity_point")},getPaginate(){return e.querySelector(".paginate")},getElementShowing(){return e.querySelector(".collection__toolbar-filter-showing")}}}return{loading:r,hiddenLoading:c,getApi:o,appendProduct:a,setProduct:u,updateCount:n,updateShowing:i,updatePointInfinity:s,createUrl:g,updatePaginate:f,createUrlFilter:l}}var{loading:U,createUrl:b,hiddenLoading:N,getApi:p,appendProduct:T,setProduct:E,updateCount:C,updateShowing:m,updatePointInfinity:S,updatePaginate:w,createUrlFilter:L}=I();function _(r){if(r){let c=new IntersectionObserver(g=>{g.forEach(l=>{if(l.isIntersecting){let n=function(s){s.set("section_id",u)},o=l.target,a=o.dataset.url,u=o.dataset.sectionId,i=a?b(n,a.split("?")[1]):null;if(i==null){c.disconnect();return}U(o),p(i).then(s=>{let f=s.getElementPointInfinity();T(s.getElementProduct()),S(f,_),m(s.getElementShowing())}).finally(()=>{N(o)})}})});c.observe(r)}}function R(r){r&&r.addEventListener("change",c=>{let g=c.target.value,l=c.target.dataset.sectionId;function o(u){u.set("sort_by",g)}let a=b(o,window.location.href.split("?")[1]);history.pushState(null,null,a),a+=a.includes("?")?"&":"?",a+=`section_id=${l}`,p(a).then(u=>{E(u.getElementProduct()),S(u.getElementPointInfinity(),_),m(u.getElementShowing())})})}function $(r){r&&r.addEventListener("change",c=>{let g=c.target.value,l=c.target.dataset.sectionId,o=`${window.Shopify.routes.root}cart/update.js`,a={attributes:{items_per_page:g},sections:[l],section_url:location.pathname+location.search},u={method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}};p(o,u).then(()=>{let n=location.pathname;n+=location.search,n+=location.search.includes("?")?"&":"?",n+="section_id="+l,p(n).then(i=>{E(i.getElementProduct()),S(i.getElementPointInfinity(),_),w(i.getPaginate(),v),m(i.getElementShowing())})})})}function j(r){r&&r.forEach(c=>{c.addEventListener("change",g=>{let l=g.target.value,o=g.target.name;function a(n){g.target.checked?(n[o]||(n[o]=[]),n[o].push(l)):n[o]&&(n[o]=n[o].filter(i=>i!==l))}let u=L(a,window.location.search);history.pushState(null,null,u),p(u).then(n=>{E(n.getElementProduct()),C(n.getProductCount()),w(n.getPaginate(),v),m(n.getElementShowing()),S(n.getElementPointInfinity(),_)})})})}function H(r){if(r){let c={"filter.v.price.gte":0,"filter.v.price.lte":Number.MAX_SAFE_INTEGER};r.forEach(g=>{g.addEventListener("change",l=>{let o=l.target.value,a=l.target.name,u=l.target.dataset.max;c["filter.v.price.lte"]=u,c[a]=o;function n(s){for(let f in c)s[f]=[],s[f].push(c[f])}let i=L(n,window.location.search);history.pushState(null,null,i),p(i).then(s=>{E(s.getElementProduct()),C(s.getProductCount()),S(s.getElementPointInfinity(),_),w(s.getPaginate(),v),m(s.getElementShowing())})})})}}function v(r){r&&r.forEach(c=>{c.addEventListener("click",g=>{let l=g.currentTarget,o=l.dataset.url,a=l.dataset.sectionId;function u(i){i.set("section_id",a)}let n=b(u,o.split("?")[1]);p(n).then(i=>{E(i.getElementProduct()),w(i.getPaginate(),v),m(i.getElementShowing())})})})}})();
