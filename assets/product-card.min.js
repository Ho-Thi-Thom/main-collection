(()=>{function _(t,e){try{return JSON.parse(t.textContent)}catch(n){return console.log(n),e}}function w(t="",e={},n){let o=new URLSearchParams(e);return n&&typeof n=="function"&&n(o),t?t+"?"+o.toString():window.location.pathname+"?"+o.toString()}function O(t,e){let n=new URLSearchParams(e);return t&&typeof t=="function"&&t(n),window.location.pathname+"?"+n.toString()}function U(t,e){return t+=t.includes("?")?"&":"?",t+=`section_id=${e}`}function M(t){return t.charAt(0).toUpperCase()+t.slice(1)}function N(t,e,n=!0){t&&(t(),n&&document.addEventListener("shopify:section:load",o=>{o.detail.sectionId===e&&t()}))}function j(t){let e=document.querySelector("#popup-info"),n=document.querySelector("#popup-info .title"),o=document.querySelector("#popup-info .wrapper-content"),{type:r,title:i,textContent:u}=t;n.setAttribute("data-type",r),n.innerHTML=i.trim(),o.innerHTML=u.trim(),e.classList.add("active")}function q(t,e){var n=null;return function(){clearTimeout(n);var o=arguments,r=this;n=setTimeout(function(){t.apply(r,o)},e)}}function P(t,e,n,o=!1){let r=document.createElement("div");r.innerHTML=t;let i=document.querySelector(`li.cart__item.jsLineItem[data-line-index="${e}"]`);if(n)o||i.remove();else{let m=r.querySelector(`li.cart__item.jsLineItem[data-line-index="${e}"]`),d=i.querySelectorAll(".jsLineUpdate"),c=m.querySelectorAll(".jsLineUpdate");d.forEach((a,l)=>{a.parentNode.replaceChild(c[l],a)})}let u=document.querySelectorAll(".js-cart-update"),p=r.querySelectorAll(".js-cart-update");u.forEach((m,d)=>{m.parentNode.replaceChild(p[d],m)})}function F(t){fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({note:t})})}async function A(t){let{variantId:e,newQuantity:n,sectionId:o}=t;return await(await fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,quantity:n,sections:o})})).json()}function k(t,e,n){let o=document.querySelector(`.cart__item.jsLineItem[data-line-index="${n}"] .add__qlt`);switch(e){case"add":+t.value==+t.max&&(o.disabled=!0);break;case"remove":o.disabled=!1;break;default:break}}function V(){document.querySelectorAll(".jsLineItem").forEach(e=>{let n=e.querySelector(".quantity__input"),o=parseInt(n.getAttribute("max")),r=e.querySelector(".add__qlt");n.value===o.toString()?r.disabled=!0:r.disabled=!1})}async function Z(){try{return(await(await fetch(window.Shopify.routes.root+"cart.js")).json()).item_count}catch(t){return t}}async function T(){try{let t=await Z(),e=document.querySelector(".jsCountItemCart");return e.textContent=t,t}catch(t){console.error(t)}}function E(t,e=!0){return new Promise((n,o)=>{fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(r=>{switch(r.status){case 200:r.json().then(i=>{let u={type:"success",title:"Add to Cart",textContent:`Add success "${i.items[0].product_title}"`};T(),e&&j(u),n(!0)});break;case 404:n(!1);break;case 422:r.json().then(i=>{let u={type:"error",title:"422",textContent:i.description};j(u),n(!1)});break;default:n(!1);break}}).catch(r=>{console.log("Error:",r),o(r)})})}function H(){let t=null,e=null,n=null,o=null,r=()=>{t&&t.destroy(),e&&e.destroy();let d=o?"horizontal":"vertical",c=document.querySelector("#customize"),a=document.querySelector("#customize-thumbnails");return t=tns({container:c,navContainer:a||void 0,controlsContainer:"#controls",items:1,axis:"horizontal",autoplay:!1,autoplayTimeout:1e3,speed:400,mouseDrag:!0,loop:!1,controls:!0,nav:!0}),a&&(e=tns({container:a,items:3,axis:d,autoplay:!1,autoplayTimeout:1e3,speed:400,mouseDrag:!0,loop:!1,controls:!0,controlsContainer:"#customize-controls",nav:!1}),t.events.on("indexChanged",function(l){e.goTo(l.index)})),t},i=q(()=>{let d=window.matchMedia("(max-width: 1023px)").matches;o!==null&&o!==d&&(o=d,r())},500),u=()=>{n&&n.disconnect();let d=document.querySelector("#customize");n=new ResizeObserver(i),n.observe(d)},p=()=>{n&&(n.disconnect(),n=null)};return(()=>{o=window.matchMedia("(max-width: 1023px)").matches,r(),u(),window.addEventListener("resize",i)})(),{slider:t,cleanup:p}}function tt(t,e,n=!1){if(n)return;let o=document.querySelector(".compare-price"),r=document.querySelector(".price");o.parentNode.replaceChild(t,o),r.parentNode.replaceChild(e,r)}function et(t,e=!1){if(e)return;let n=document.querySelector(".variant-inventory");n.parentNode.replaceChild(t,n)}function R(t,e=!1){let n=document.querySelector(".btn-add");if(e){n.setAttribute("disabled","");let o=n.querySelector("span");n.setAttribute("data-selected-quantity",0),o.textContent="Not Available";return}if(n&&t){let o=n.querySelector("span"),r=t.querySelector("span");o&&r&&o.parentNode.replaceChild(r,o);let i=t.getAttribute("data-selected-quantity");i&&n.setAttribute("data-selected-quantity",i),parseInt(i)===0?n.setAttribute("disabled","true"):document.querySelector(".cart__condition").classList.contains("checked")&&n.removeAttribute("disabled")}}function nt(t,e=!1){if(e)return;let n=document.querySelector(".product-sku");n.parentNode.replaceChild(t,n)}function ot(t,e=!1){if(e)return;let n=document.querySelector(".jsSubmit");n.value=t.value}function z(t){let e=t();e?(fetch(e).then(n=>n.text()).then(n=>{let o=document.createElement("div");o.innerHTML=n,tt(o.querySelector(".compare-price"),o.querySelector(".price")),et(o.querySelector(".variant-inventory")),R(o.querySelector(".btn-add")),nt(o.querySelector(".product-sku")),ot(o.querySelector(".jsSubmit"))}),B(!1)):(R(null,!0),B(!0))}function B(t=!1){let e=document.querySelector(".jsProductForm .card-info");t?e.classList.remove("visibility-hidden"):e.classList.add("visibility-hidden")}function Q(t,e,n){n=M(n);let o=e.filter(c=>c.name!==n).map(c=>c.position),r=e.find(c=>c.name===n),i=r?r.position:null,p=[...new Set(t)].reduce((c,a)=>(a.split(" / ").filter((f,s)=>s!==i-1).forEach((f,s)=>{c[s]||(c[s]=[]),c[s].includes(f)||c[s].push(f)}),c),[]),m=o.map((c,a)=>[c,p[a]]),d=document.querySelectorAll(".check-position");m.forEach(c=>{d.forEach(a=>{if(c[0]==a.dataset.position){let l=a.querySelectorAll('input[type="radio"]'),h=a.querySelectorAll("option");Array.from(l).concat(Array.from(h)).forEach(f=>{let s=f.value;c[1].includes(s)?f.setAttribute("data-disabled","false"):f.setAttribute("data-disabled","true")})}})})}function J(t,e){let n=[];return t&&t.forEach(o=>{o.querySelectorAll("option").forEach(i=>{let u=i.value;i.selected&&n.push(u)})}),e&&e.forEach(o=>{let r=o.value;o.checked&&n.push(r)}),n}function $(){document.getElementById("cart-condition").addEventListener("click",function(e){let n=document.querySelector(".cart__condition"),o=document.querySelector("button[name='add']");if(this.checked){n.classList.add("checked");let r=o.getAttribute("data-selected-quantity");parseInt(r)!==0&&o.removeAttribute("disabled")}else n.classList.remove("checked"),o.setAttribute("disabled","")})}function rt(t=null,e=document,n){let o=e.querySelector(".jsProductForm"),r=_(e.querySelector("#popup_product_options"),[]),u=_(e.querySelector("#popup-variants"),[]).variants,{slider:p,cleanup:m}=n(),d=e.querySelector(".remove__qlt"),c=e.querySelector(".add__qlt"),a=e.querySelector(".quantity__input"),l=e.querySelector("#jsFormProduct");o.addEventListener("change",function(s){if(s.target.id!=="cart-condition"){let y=u.filter(S=>Object.values(S).includes(s.target.value)).map(S=>S.title);z(()=>h(o.dataset.sectionId,p)),Q(y,r,s.target.name)}});function h(s,y){let S=e.querySelectorAll(".js-variant-change"),g=e.querySelectorAll(".js-radio"),L=J(S,g),C=u.find(v=>v.options.join("/")==L.join("/"));if(!C)return;C.featured_image!==null&&y.goTo(C.featured_image.position-1);let b="";return t?b=w(t,void 0,function(v){v.set("variant",C.id)}):(b=O(function(v){v.set("variant",C.id)}),history.pushState(null,null,b)),U(b,s)}d.addEventListener("click",function(){let s=parseInt(a.value);s>1&&(a.value=s-1)}),c.addEventListener("click",function(){let s=parseInt(a.value);a.value=s+1}),a.addEventListener("keydown",function(s){s.key==="Enter"&&s.preventDefault()}),f(),$();function f(){l&&l.dataset.type==="b"&&l.addEventListener("submit",function(s){s.preventDefault();let S={items:[Object.fromEntries(new FormData(s.target).entries())]};try{E(S)}catch(g){console.log(g)}})}}function K(t,e){rt(t,e,H)}function ct(){let t=document.querySelector("#popup-product-item");t.classList.remove("active");let e=t.querySelector("#popup-product-item .content");e.innerHTML=""}function W(){document.querySelector("#popup-product-item").classList.add("active")}var G=document.querySelector("#popup-product-item .close-popup div");G&&G.addEventListener("click",()=>{ct()});function at(){let t=document.querySelector(".jsCartPopup"),e=document.querySelector(".jsCartPopup .popup__header-close");e&&e.addEventListener("click",()=>{t.classList.remove("active"),document.querySelector("#bg-color").classList.remove("body-overlay")})}at();function X(){document.querySelector(".jsCartPopup").classList.add("active"),document.querySelector("#bg-color").classList.add("body-overlay")}async function it(t){try{return await(await fetch(window.location.pathname+`?section_id=${t}`)).text()}catch(e){return e}}async function I(){let e=document.querySelector(".jsCartPopup").dataset.sectionId,n=await it(e),o=document.createElement("div");o.innerHTML=n;let i=o.querySelector(".jsCartPopup").querySelectorAll(".jsPopupUpdate");return document.querySelectorAll(".jsCartPopup .jsPopupUpdate").forEach((p,m)=>{p.parentNode.replaceChild(i[m],p)}),!0}var x=document.querySelector(".cart-section-wrapper")?.dataset.sectionId;x&&N(D,x);function D(t=!0,e=!1){let n=document.querySelectorAll(".cart__item .remove__qlt"),o=document.querySelectorAll(".cart__item .add__qlt"),r=document.querySelectorAll(".btn-remove");V(),i(r),i([...o,...n]);function i(c=[]){!c||c.length===0||c.forEach(a=>{let l=null;a.addEventListener("click",h=>{let f=h.target,s=f.closest(".cart__item.jsLineItem").dataset.lineIndex,y=document.querySelector(`.cart__item.jsLineItem[data-line-index="${s}"] .quantity__input`);f.classList.contains("add__qlt")&&(y.stepUp(),k(y,"add",s)),f.classList.contains("remove__qlt")&&(y.stepDown(),k(y,"remove",s));let S=y.value,g=f.classList.contains("btn-remove");g&&(S=0),l&&clearTimeout(l),l=setTimeout(async()=>{y.value;let L=y.getAttribute("data-sections"),b={variantId:y.getAttribute("data-key"),newQuantity:S,sectionId:L};try{let Y=(await A(b)).sections[L];await T()?P(Y,s,checkRemove=g):e?I():location.reload()}catch(v){console.log("Error",v)}},1e3)})})}document.querySelectorAll(".cart__item .quantity__input").forEach(function(c){c.addEventListener("keydown",function(a){a.key==="Enter"&&a.preventDefault()}),c.addEventListener("input",q(async a=>{let l=a.target.closest(".cart__item.jsLineItem").dataset.lineIndex,h=a.target,s={variantId:h.getAttribute("data-key"),newQuantity:h.value,sectionId:x};try{let S=(await A(s)).sections[x];P(S,l)}catch(y){}},2e3))}),document.querySelectorAll(".accordion-initialized").forEach(function(c){let a=c.querySelector(".accordion-trigger"),l=c.querySelector(".cart__form-note");a.addEventListener("click",function(){l.classList.toggle("active")})});let m=document.getElementById("cart-note"),d=q(()=>F(m.value),500);m.addEventListener("input",d),t&&st()}function st(){let t=document.getElementsByName("shipping_address[country]")[0];t.addEventListener("change",function(r){let u=t.options[t.selectedIndex].getAttribute("data-provinces"),p=document.querySelector(".jsProvince"),m=p.querySelector("[name='shipping_address[province]']");JSON.parse(u).length?(JSON.parse(u).forEach(([d,c])=>{let a=document.createElement("option");a.value=d,a.text=c,m.appendChild(a)}),p.style.display="block"):p.style.display="none"});let n=document.querySelector(".jsShippingRates").dataset.url;document.querySelector(".shipping-form").addEventListener("submit",r=>{r.preventDefault();let i=Object.fromEntries(new FormData(r.target).entries()),u=document.querySelector(".jsButtonShipping");u.classList.add("loading");let p=w(n,i),m=document.querySelector(".js-shipping-result"),d=document.querySelector("template").content.firstElementChild,c=document.createElement("div");m.innerHTML="",fetch(p).then(a=>a.json()).then(a=>{let l=a.shipping_rates,h=theme.strings.notFoundShippingRate;l&&l.length>1?h=theme.strings.manyShippingRate.replace("{{ number }}",l.length):l&&l.length===1&&(h=theme.strings.oneShippingRate),document.querySelector(".js-response-title").innerHTML=h,l&&l.forEach(f=>{c.innerHTML=d.outerHTML,c.querySelector(".shipping-name").innerHTML=f.name,c.querySelector(".shipping-cost").textContent=f.price,m.insertAdjacentHTML("beforeend",c.innerHTML)}),u.classList.remove("loading")})})}window.addEventListener("DOMContentLoaded",function(){document.querySelector("body").addEventListener("click",async e=>{if(e.target.classList.contains("jsAddToCart")){e.preventDefault();let o={items:[{id:e.target.dataset.firstVariant,quantity:1}]};try{await E(o,!1)&&await I()&&(q(X(),500),D(!1,!0))}catch(r){console.log("Error:",r)}}if(e.target.classList.contains("jsQuickView")){e.preventDefault();let n=e.target.dataset.urlProductPopup;ut(n)}})});async function ut(t){let n=await(await fetch(t)).text(),o=document.createElement("div");o.innerHTML=n;let r=document.querySelector("#popup-product-item .popup-content .content"),i=o.querySelector(".dialog__quick-view");r.innerHTML="",r.appendChild(i);let u=t.split("?")[0];K(u,r),W()}})();
