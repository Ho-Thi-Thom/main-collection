(()=>{function r(e){let t=document.querySelector("#popup-info"),o=document.querySelector("#popup-info .title"),n=document.querySelector("#popup-info .wrapper-content"),{type:c,title:i,textContent:s}=e;o.setAttribute("data-type",c),o.innerHTML=i.trim(),n.innerHTML=s.trim(),t.classList.add("active")}function a(e){fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(t=>{switch(t.status){case 200:t.json().then(o=>{let n={type:"success",title:"Add to Cart",textContent:`Add success "${o.items[0].product_title}"`};p(),r(n)});break;case 404:break;case 422:t.json().then(o=>{let n={type:"error",title:"422",textContent:o.description};r(n)});break;default:break}}).catch(t=>{console.log("Error:",t)})}async function u(){try{return(await(await fetch(window.Shopify.routes.root+"cart.js")).json()).item_count}catch(e){return e}}async function p(){try{let e=await u(),t=document.querySelector(".jsCountItemCart");t.textContent=e}catch(e){console.error(e)}}window.addEventListener("DOMContentLoaded",function(){document.querySelector("body").addEventListener("click",t=>{if(t.target.classList.contains("jsViewCart")){t.preventDefault();let n={items:[{id:t.target.dataset.firstVariant,quantity:1}]};a(n)}})});})();
