(()=>{function b(e,o){try{return JSON.parse(e.textContent)}catch(t){return console.log(t),o}}function w(e="",o={},t){let n=new URLSearchParams(o);return t&&typeof t=="function"&&t(n),e?e+"?"+n.toString():window.location.pathname+"?"+n.toString()}function x(e,o){let t=new URLSearchParams(o);return e&&typeof e=="function"&&e(t),window.location.pathname+"?"+t.toString()}function E(e,o){return e+=e.includes("?")?"&":"?",e+=`section_id=${o}`}function k(e){return e.charAt(0).toUpperCase()+e.slice(1)}function q(e){let o=document.querySelector("#popup-info"),t=document.querySelector("#popup-info .title"),n=document.querySelector("#popup-info .wrapper-content"),{type:r,title:a,textContent:p}=e;t.setAttribute("data-type",r),t.innerHTML=a.trim(),n.innerHTML=p.trim(),o.classList.add("active"),C(N,1e3)()}function N(){document.querySelector("#popup-info").classList.remove("active")}function C(e,o){var t=null;return function(){clearTimeout(t);var n=arguments,r=this;t=setTimeout(function(){e.apply(r,n)},o)}}function g(e){fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(o=>{switch(o.status){case 200:o.json().then(t=>{let n={type:"success",title:"Add to Cart",textContent:`Add success "${t.items[0].product_title}"`};U(),q(n)});break;case 404:break;case 422:o.json().then(t=>{let n={type:"error",title:"422",textContent:t.description};q(n)});break;default:break}}).catch(o=>{console.log("Error:",o)})}async function M(){try{return(await(await fetch(window.Shopify.routes.root+"cart.js")).json()).item_count}catch(e){return e}}async function U(){try{let e=await M(),o=document.querySelector(".jsCountItemCart");o.textContent=e}catch(e){console.error(e)}}function L(){let e=null,o=null,t=null,n=null,r=()=>{e&&e.destroy(),o&&o.destroy();let u=n?"horizontal":"vertical",c=document.querySelector("#customize"),d=document.querySelector("#customize-thumbnails");return e=tns({container:c,navContainer:d||void 0,controlsContainer:"#controls",items:1,axis:"horizontal",autoplay:!1,autoplayTimeout:1e3,speed:400,mouseDrag:!0,loop:!1,controls:!0,nav:!0}),d&&(o=tns({container:d,items:3,axis:u,autoplay:!1,autoplayTimeout:1e3,speed:400,mouseDrag:!0,loop:!1,controls:!0,controlsContainer:"#customize-controls",nav:!1}),e.events.on("indexChanged",function(m){o.goTo(m.index)})),e},a=C(()=>{let u=window.matchMedia("(max-width: 1023px)").matches;n!==null&&n!==u&&(n=u,r())},500),p=()=>{t&&t.disconnect();let u=document.querySelector("#customize");t=new ResizeObserver(a),t.observe(u)},f=()=>{t&&(t.disconnect(),t=null)};return(()=>{n=window.matchMedia("(max-width: 1023px)").matches,r(),p(),window.addEventListener("resize",a)})(),{slider:e,cleanup:f}}function B(e,o,t=!1){if(t)return;let n=document.querySelector(".compare-price"),r=document.querySelector(".price");n.parentNode.replaceChild(e,n),r.parentNode.replaceChild(o,r)}function F(e,o=!1){if(o)return;let t=document.querySelector(".variant-inventory");t.parentNode.replaceChild(e,t)}function A(e,o=!1){let t=document.querySelector(".btn-add");if(o){t.setAttribute("disabled","");let n=t.querySelector("span");t.setAttribute("data-selected-quantity",0),n.textContent="Not Available";return}if(t&&e){let n=t.querySelector("span"),r=e.querySelector("span");n&&r&&n.parentNode.replaceChild(r,n);let a=e.getAttribute("data-selected-quantity");a&&t.setAttribute("data-selected-quantity",a),parseInt(a)===0?t.setAttribute("disabled","true"):document.querySelector(".cart__condition").classList.contains("checked")&&t.removeAttribute("disabled")}}function H(e,o=!1){if(o)return;let t=document.querySelector(".product-sku");t.parentNode.replaceChild(e,t)}function Q(e,o=!1){if(o)return;let t=document.querySelector(".jsSubmit");t.value=e.value}function I(e){let o=e();console.log(o),o?fetch(o).then(t=>t.text()).then(t=>{let n=document.createElement("div");n.innerHTML=t,console.log(n),B(n.querySelector(".compare-price"),n.querySelector(".price")),F(n.querySelector(".variant-inventory")),A(n.querySelector(".btn-add")),H(n.querySelector(".product-sku")),Q(n.querySelector(".jsSubmit"))}):(A(null,!0),q({type:"warring",title:"Not found",textContent:"Variant does not exist"}))}function P(e,o,t){t=k(t);let n=o.filter(c=>c.name!==t).map(c=>c.position),r=o.find(c=>c.name===t),a=r?r.position:null,f=[...new Set(e)].reduce((c,d)=>(d.split(" / ").filter((l,s)=>s!==a-1).forEach((l,s)=>{c[s]||(c[s]=[]),c[s].includes(l)||c[s].push(l)}),c),[]),S=n.map((c,d)=>[c,f[d]]),u=document.querySelectorAll(".check-position");S.forEach(c=>{u.forEach(d=>{if(c[0]==d.dataset.position){let m=d.querySelectorAll('input[type="radio"]'),i=d.querySelectorAll("option");Array.from(m).concat(Array.from(i)).forEach(l=>{let s=l.value;c[1].includes(s)?l.setAttribute("data-disabled","false"):l.setAttribute("data-disabled","true")})}})})}function T(e,o){let t=[];return e&&e.forEach(n=>{n.querySelectorAll("option").forEach(a=>{let p=a.value;a.selected&&t.push(p)})}),o&&o.forEach(n=>{let r=n.value;n.checked&&t.push(r)}),t}function _(){document.getElementById("cart-condition").addEventListener("click",function(o){let t=document.querySelector(".cart__condition"),n=document.querySelector("button[name='add']");if(this.checked){t.classList.add("checked");let r=n.getAttribute("data-selected-quantity");parseInt(r)!==0&&n.removeAttribute("disabled")}else t.classList.remove("checked"),n.setAttribute("disabled","")})}function j(e=null){let o=document.querySelector(".jsProductForm"),t=b(document.getElementById("popup_product_options"),[]),r=b(document.getElementById("popup-variants"),[]).variants,{slider:a,cleanup:p}=L(),f=document.querySelector(".remove__qlt"),S=document.querySelector(".add__qlt"),u=document.querySelector(".quantity__input"),c=document.getElementById("jsFormProduct");o.addEventListener("change",function(i){if(i.target.id!=="cart-condition"){let l=r.filter(s=>Object.values(s).includes(i.target.value)).map(s=>s.title);I(()=>d(o.dataset.sectionId,a)),P(l,t,i.target.name)}});function d(i,l){let s=document.querySelectorAll(".js-variant-change"),O=document.querySelectorAll(".js-radio"),z=T(s,O),y=r.find(h=>h.options.join("/")==z.join("/"));if(!y)return;y.featured_image!==null&&l.goTo(y.featured_image.position-1);let v="";return e?v=w(e,void 0,function(h){h.set("variant",y.id)}):(v=x(function(h){h.set("variant",y.id)}),history.pushState(null,null,v)),E(v,i)}f.addEventListener("click",function(){let i=parseInt(u.value);i>1&&(u.value=i-1)}),S.addEventListener("click",function(){let i=parseInt(u.value);u.value=i+1}),u.addEventListener("keydown",function(i){i.key==="Enter"&&i.preventDefault()}),m(),_();function m(){c&&c.dataset.type==="b"&&c.addEventListener("submit",function(i){i.preventDefault();let s={items:[Object.fromEntries(new FormData(i.target).entries())]};g(s)})}}function R(){document.querySelector("#popup-product-item").classList.remove("active")}function D(){document.querySelector("#popup-product-item").classList.add("active")}var V=document.querySelector("#popup-product-item .close-popup div");V&&V.addEventListener("click",()=>{R()});window.addEventListener("DOMContentLoaded",function(){document.querySelector("body").addEventListener("click",o=>{if(o.target.classList.contains("jsAddToCart")){o.preventDefault();let n={items:[{id:o.target.dataset.firstVariant,quantity:1}]};g(n)}if(o.target.classList.contains("jsQuickView")){o.preventDefault();let t=o.target.dataset.urlProductPopup;J(t)}})});async function J(e){let t=await(await fetch(e)).text(),n=document.createElement("div");n.innerHTML=t;let r=document.querySelector("#popup-product-item .popup-content .content"),a=n.querySelector(".dialog__quick-view");r.innerHTML="",r.appendChild(a);let p=e.split("?")[0];j(p),D()}})();
