(()=>{function c(e){let t=document.querySelector("#popup-info"),o=document.querySelector("#popup-info .title"),n=document.querySelector("#popup-info .wrapper-content"),{type:r,title:i,textContent:s}=e;o.setAttribute("data-type",r),o.innerHTML=i.trim(),n.innerHTML=s.trim(),t.classList.add("active"),p(u,1e3)()}function u(){document.querySelector("#popup-info").classList.remove("active")}function p(e,t){var o=null;return function(){clearTimeout(o);var n=arguments,r=this;o=setTimeout(function(){e.apply(r,n)},t)}}function a(e){fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(t=>{switch(t.status){case 200:t.json().then(o=>{let n={type:"success",title:"Add to Cart",textContent:`Add success "${o.items[0].product_title}"`};f(),c(n)});break;case 404:break;case 422:t.json().then(o=>{let n={type:"error",title:"422",textContent:o.description};c(n)});break;default:break}}).catch(t=>{console.log("Error:",t)})}async function d(){try{return(await(await fetch(window.Shopify.routes.root+"cart.js")).json()).item_count}catch(e){return e}}async function f(){try{let e=await d(),t=document.querySelector(".jsCountItemCart");t.textContent=e}catch(e){console.error(e)}}window.addEventListener("DOMContentLoaded",function(){document.querySelector("body").addEventListener("click",t=>{if(t.target.classList.contains("jsViewCart")){t.preventDefault();let n={items:[{id:t.target.dataset.firstVariant,quantity:1}]};a(n)}})});})();
