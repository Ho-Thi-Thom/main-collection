(()=>{var d=document.querySelector("#infinity_point");if(d){let r=function(n){let i=n.dataset.url,t=n.dataset.sectionId;function e(){n.innerHTML="loading"}function o(){n.innerHTML=""}async function l(){fetch(`${i}&sections=${t}`).then(c=>{c.json()}).then(c=>{console.log(c),console.log(t)})}function a(c){appendChild(c,"infinity")==""&&s.disconnect()}return{loading:e,hiddenLoading:o,callApi:l,appendData:a}},s=new IntersectionObserver(n=>{n.forEach(i=>{if(i.isIntersecting){let{loading:t,hiddenLoading:e,callApi:o,appendData:l}=r(i.target);t(),o().then(a=>{}).finally(()=>{e()})}})});s.observe(d)}appendChild=(r,s)=>{let n=document.querySelector("#collection__products"),i=document.createElement("div");i.innerHTML=r;let t=i.querySelectorAll("#collection__products > *");s!="infinity"&&(n.innerHTML=""),t.forEach(o=>{n.appendChild(o)});let e=i.querySelector("#infinity_point").dataset.url;return d.setAttribute("data-url",e),e};})();
