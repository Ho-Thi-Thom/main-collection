(()=>{var L=document.querySelectorAll(".js-variant-change"),_=document.querySelectorAll('input[type="radio"]'),k=JSON.parse(document.getElementById("product_data").textContent),g=JSON.parse(document.getElementById("product_options").textContent),v=k.variants,h=document.querySelector(".wish-list"),I=t=>{let e="recently-list",s=()=>{try{let c=window.localStorage.getItem(e);return c?JSON.parse(c):[]}catch(c){return console.log(c),[]}};(()=>{let c=s(),n=c.findIndex(i=>i===t);n>-1&&c.splice(n,1),c.unshift(t);let a=c.length>11?c.slice(0,10):c;window.localStorage.setItem(e,JSON.stringify(a))})()};window.recentlyTrigger=I;var b=t=>{let e="wish-list",s=()=>{try{let n=window.localStorage.getItem(e);return n?JSON.parse(n):[]}catch(n){console.log(n)}},o=()=>{s().findIndex(i=>i===t)!==-1&&h.classList.add("active")},c=()=>{let n=s(),a=n.findIndex(i=>i===t);a!==-1?(n.splice(a,1),h.classList.remove("active")):(n.push(t),h.classList.add("active")),window.localStorage.setItem(e,JSON.stringify(n))};o(),h.addEventListener("click",function(){c()})};window.productTrigger=b;function C(t){let e=new URLSearchParams;return t(e),window.location.pathname+"?"+e.toString()}function A(t,e){return t+=t.includes("?")?"&":"?",t+=`section_id=${e}`}function j(t,e){let s=document.querySelector(".compare-price"),o=document.querySelector(".price");s.parentNode.replaceChild(t,s),o.parentNode.replaceChild(e,o)}function N(t){let e=document.querySelector(".variant-inventory");e.parentNode.replaceChild(t,e)}function P(t){let e=document.querySelector(".product-sku");e.parentNode.replaceChild(t,e)}function O(t){let e=document.querySelector(".btn-add");e.parentNode.replaceChild(t,e)}function T(t,e){let s=J(),o=x(s);if(o!=null){let n=function(d){d.set("variant",o.id)};var c=n;mainSlider.goTo(o.featured_image.position-1);let a=C(n);history.pushState(null,null,a);let i=A(a,t);fetch(i).then(d=>d.text()).then(d=>{let l=document.createElement("div");l.innerHTML=d,j(l.querySelector(".compare-price"),l.querySelector(".price")),N(l.querySelector(".variant-inventory")),O(l.querySelector(".btn-add")),P(l.querySelector(".product-sku"))})}else console.log(s)}function D(t,e){e=e.charAt(0).toUpperCase()+e.slice(1);let s=v.filter(r=>Object.values(r).includes(t)),o=g.filter(r=>r.name!==e).map(r=>r.position),c=s.map(r=>r.title),n=g.find(r=>r.name===e),a=n?n.position:null,d=[...new Set(c)].reduce((r,p)=>(p.split(" / ").filter((f,u)=>u!==a-1).forEach((f,u)=>{r[u]||(r[u]=[]),r[u].includes(f)||r[u].push(f)}),r),[]),l=o.map((r,p)=>[r,d[p]]),q=document.querySelectorAll(".check-position");l.forEach(r=>{q.forEach(p=>{if(r[0]==p.dataset.position){let m=p.querySelectorAll('input[type="radio"]'),S=p.querySelectorAll("option");Array.from(m).concat(Array.from(S)).forEach(f=>{let u=f.value;r[1].includes(u)?f.setAttribute("data-disabled","false"):f.setAttribute("data-disabled","true")})}})})}var w=document.querySelector(".jsProductForm");w.addEventListener("change",t=>{T(w.dataset.sectionId,t),D(t.target.value,t.target.name)});function x(t){return v.find(e=>e.options.join("/")==t.join("/"))}function J(){let t=[];return L.forEach(e=>{e.querySelectorAll("option").forEach(o=>{let c=o.value;o.selected&&t.push(c)})}),_.forEach(e=>{let s=e.value;e.checked&&t.push(s)}),t}var V=document.querySelector(".remove__qlt"),B=document.querySelector(".add__qlt"),y=document.querySelector(".quantity__input");V.addEventListener("click",function(){let t=parseInt(y.value);t>1&&(y.value=t-1)});B.addEventListener("click",function(){let t=parseInt(y.value);y.value=t+1});y.addEventListener("keydown",function(t){t.key==="Enter"&&t.preventDefault()});var E=document.getElementById("jsFormProduct");E.dataset.type=="b"&&E.addEventListener("submit",async function(t){t.preventDefault();let s={items:[Object.fromEntries(new FormData(t.target).entries())]};fetch(window.Shopify.routes.root+"cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(async o=>{switch(o.status){case 200:let c=await o.json();alert("More product success:",c.items[0].product_title);break;case 404:break;case 422:let n=await o.json();alert(n.description);break;default:break}}).catch(o=>{console.log("Error:",o)})});})();
