(()=>{var g=document.querySelectorAll(".js-variant-change"),_=document.querySelectorAll('input[type="radio"]'),A=JSON.parse(document.getElementById("product_data").textContent),v=JSON.parse(document.getElementById("product_options").textContent),y=A.variants;function C(e){let t=new URLSearchParams;return e(t),window.location.pathname+"?"+t.toString()}function P(e,t){let o=document.querySelector(".compare-price"),r=document.querySelector(".price");o.parentNode.replaceChild(e,o),r.parentNode.replaceChild(t,r)}function I(e){let t=document.querySelector(".variant-inventory");t.parentNode.replaceChild(e,t)}function L(e){let t=document.querySelector(".product-sku");t.parentNode.replaceChild(e,t)}function N(e){let t=j(),o=b(t);if(o!=null){let l=function(c){c.set("section_id",e),c.set("variant",o.id)};var r=l;mainSlider.goTo(o.featured_image.position);let p=C(l);fetch(p).then(c=>c.text()).then(c=>{let a=document.createElement("div");a.innerHTML=c,P(a.querySelector(".compare-price"),a.querySelector(".price")),I(a.querySelector(".variant-inventory")),L(a.querySelector(".product-sku"))})}}function V(e){let t=e.target.value,o=e.target.name,r=o.charAt(0).toUpperCase()+o.slice(1),l=y.filter(n=>Object.values(n).includes(t)),p=v.filter(n=>n.name!==r).map(n=>n.position),c=l.map(n=>n.title),a=v.find(n=>n.name===r),S=a?a.position:null,q=[...new Set(c)].reduce((n,u)=>(u.split(" / ").filter((s,i)=>i!==S-1).forEach((s,i)=>{n[i]||(n[i]=[]),n[i].includes(s)||n[i].push(s)}),n),[]),E=p.map((n,u)=>[n,q[u]]),k=document.querySelectorAll(".check-position");E.forEach(n=>{k.forEach(u=>{if(n[0]==u.dataset.position){let f=u.querySelectorAll('input[type="radio"]'),m=u.querySelectorAll("option");Array.from(f).concat(Array.from(m)).forEach(s=>{let i=s.value;n[1].includes(i)?s.removeAttribute("disabled"):s.setAttribute("disabled","")})}})})}var h=document.querySelector(".jsProductForm");h.addEventListener("change",e=>{N(h.dataset.sectionId),V(e)});function b(e){return y.find(t=>t.options.join("/")==e.join("/"))}function j(){let e=[];return g.forEach(t=>{t.querySelectorAll("option").forEach(r=>{let l=r.value;r.selected&&e.push(l)})}),_.forEach(t=>{let o=t.value;t.checked&&e.push(o)}),e}var w=document.querySelector(".remove__qlt"),O=document.querySelector(".add__qlt"),d=document.querySelector(".quantity__input");w.addEventListener("click",function(){let e=parseInt(d.value);e>1&&(d.value=e-1)});O.addEventListener("click",function(){let e=parseInt(d.value);d.value=e+1});d.addEventListener("keydown",function(e){e.key==="Enter"&&e.preventDefault()});})();
