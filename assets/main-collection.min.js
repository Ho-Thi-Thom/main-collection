(()=>{function v(){function i(t){t.innerHTML="Loading..."}function c(t){t.innerHTML=""}function d(t,e){let s=new URLSearchParams(e);return t(s),window.location.pathname+"?"+s.toString()}function r(t,e){let s=new URLSearchParams(e),p={};s.forEach(function(E,m){p[m]||(p[m]=[]),p[m].push(E)}),t(p);let q=new URLSearchParams;return Object.keys(p).forEach(E=>{p[E].forEach(m=>{q.append(E,m)})}),`${window.location.pathname}?${q.toString()}`}function n(t,e){return fetch(t,e).then(s=>s.text()).then(s=>T(s))}function l(t){let e=document.querySelector("#collection__products");t.querySelectorAll("#collection__products > *")?.forEach(s=>{e?.appendChild(s)})}function a(t){let e=document.querySelector("#collection__products");t&&(e.parentNode.replaceChild(t,e),e=t)}function o(t){let e=document.querySelector(".product_count");t&&e.parentNode.replaceChild(t,e)}function f(t){let e=document.querySelector(".collection__toolbar-filter-showing");t&&e.parentNode.replaceChild(t,e)}function u(t,e){let s=document.querySelector("#infinity_point");t&&(s.parentNode.replaceChild(t,s),e(t))}function g(t,e){let s=document.querySelector(".paginate");t&&(s.parentNode.replaceChild(t,s),e(document.querySelectorAll(".paginate_link[data-url]")))}function T(t){let e=document.createElement("div");return e.innerHTML=t,{getElementProduct(){return e.querySelector("#collection__products")},getProductCount(){return e.querySelector(".product_count")},getElementPointInfinity(){return e.querySelector("#infinity_point")},getPaginate(){return e.querySelector(".paginate")},getElementShowing(){return e.querySelector(".collection__toolbar-filter-showing")}}}return{loading:i,hiddenLoading:c,getApi:n,appendProduct:l,setProduct:a,updateCount:o,updateShowing:f,updatePointInfinity:u,createUrl:d,updatePaginate:g,createUrlFilter:r}}var{loading:k,createUrl:b,hiddenLoading:F,getApi:y,appendProduct:M,setProduct:_,updateCount:L,updateShowing:S,updatePointInfinity:w,updatePaginate:I,createUrlFilter:C}=v();function h(i){if(i){let c=new IntersectionObserver(d=>{d.forEach(r=>{if(r.isIntersecting){let o=function(u){u.set("section_id",a)},n=r.target,l=n.dataset.url,a=n.dataset.sectionId,f=l?b(o,l.split("?")[1]):null;if(f==null){c.disconnect();return}k(n),y(f).then(u=>{let g=u.getElementPointInfinity();M(u.getElementProduct()),w(g,h),S(u.getElementShowing())}).finally(()=>{F(n)})}})});c.observe(i)}}function x(i){i&&i.addEventListener("change",c=>{let d=c.target.value,r=c.target.dataset.sectionId;function n(a){a.set("sort_by",d)}let l=b(n,window.location.href.split("?")[1]);history.pushState(null,null,l),l+=l.includes("?")?"&":"?",l+=`section_id=${r}`,y(l).then(a=>{_(a.getElementProduct()),w(a.getElementPointInfinity(),h),S(a.getElementShowing())})})}function U(i){i&&i.forEach(c=>{c.addEventListener("change",d=>{let r=d.target.value,n=d.target.name;function l(o){d.target.checked?(o[n]||(o[n]=[]),o[n].push(r)):o[n]&&(o[n]=o[n].filter(f=>f!==r))}let a=C(l,window.location.search);history.pushState(null,null,a),y(a).then(o=>{_(o.getElementProduct()),L(o.getProductCount()),I(o.getPaginate(),P),S(o.getElementShowing()),w(o.getElementPointInfinity(),h)})})})}function A(i){if(i){let c={"filter.v.price.gte":0,"filter.v.price.lte":Number.MAX_SAFE_INTEGER};i.forEach(d=>{d.addEventListener("change",r=>{let n=r.target.value,l=r.target.name,a=r.target.dataset.max;c["filter.v.price.lte"]=a,c[l]=n;function o(u){for(let g in c)u[g]=[],u[g].push(c[g])}let f=C(o,window.location.search);history.pushState(null,null,f),y(f).then(u=>{_(u.getElementProduct()),L(u.getProductCount()),w(u.getElementPointInfinity(),h),I(u.getPaginate(),P),S(u.getElementShowing())})})})}}function P(i){i&&i.forEach(c=>{c.addEventListener("click",d=>{let r=d.currentTarget,n=r.dataset.url,l=r.dataset.sectionId;function a(f){f.set("section_id",l)}let o=b(a,n.split("?")[1]);y(o).then(f=>{_(f.getElementProduct()),I(f.getPaginate(),P),S(f.getElementShowing())})})})}N();document.addEventListener("shopify:section:load",N);function N(){let i=document.querySelector("#infinity_point"),c=document.querySelector("#sort_by"),d=document.querySelectorAll('input[type="checkbox"]'),r=document.querySelectorAll('input[type="number"]'),n=document.querySelectorAll(".paginate_link[data-url]");h(i),x(c),U(d),A(r),P(n)}})();
