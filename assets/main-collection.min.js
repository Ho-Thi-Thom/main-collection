(()=>{function I(){function c(t){t.innerHTML="Loading..."}function l(t){t.innerHTML=""}function u(t,n){let f=new URLSearchParams(n);return t(f),window.location.pathname+"?"+f.toString()}function r(t,n){let f=new URLSearchParams(n),y={};f.forEach(function(v,P){y[P]||(y[P]=[]),y[P].push(v)}),t(y);let x=new URLSearchParams;return Object.keys(y).forEach(v=>{y[v].forEach(P=>{x.append(v,P)})}),`${window.location.pathname}?${x.toString()}`}function o(t,n){return t+=t.includes("?")?"&":"?",t+=`section_id=${n}`}function a(t,n){return fetch(t,n).then(f=>f.text()).then(f=>E(f))}function e(t){let n=document.querySelector("#collection__products");t.querySelectorAll("#collection__products > *")?.forEach(f=>{n?.appendChild(f)})}function s(t){let n=document.querySelector("#collection__products");t&&(n.parentNode.replaceChild(t,n),n=t)}function i(t){let n=document.querySelector(".product_count");t&&n.parentNode.replaceChild(t,n)}function d(t){let n=document.querySelector(".collection__toolbar-filter-showing");t&&n.parentNode.replaceChild(t,n)}function g(t,n){let f=document.querySelector("#infinity_point");t&&(f.parentNode.replaceChild(t,f),n(t))}function p(t,n){let f=document.querySelector(".paginate");t&&(f.parentNode.replaceChild(t,f),n(document.querySelectorAll(".paginate_link[data-url]")))}function E(t){let n=document.createElement("div");return n.innerHTML=t,{getElementProduct(){return n.querySelector("#collection__products")},getProductCount(){return n.querySelector(".product_count")},getElementPointInfinity(){return n.querySelector("#infinity_point")},getPaginate(){return n.querySelector(".paginate")},getElementShowing(){return n.querySelector(".collection__toolbar-filter-showing")}}}return{loading:c,hiddenLoading:l,getApi:a,appendProduct:e,setProduct:s,updateCount:i,updateShowing:d,updatePointInfinity:g,createUrl:u,updatePaginate:p,createUrlFilter:r,updateUrl:o}}var{loading:O,createUrl:L,hiddenLoading:R,getApi:h,appendProduct:$,setProduct:b,updateCount:C,updateShowing:S,updatePointInfinity:w,updatePaginate:q,createUrlFilter:U,updateUrl:A}=I();function m(c){if(c){let l=new IntersectionObserver(u=>{u.forEach(r=>{if(r.isIntersecting){let o=r.target,a=o.dataset.url,e=o.dataset.sectionId;try{let i=a?L(function(d){d.set("section_id",e)},a.split("?")[1]):null;if(i==null){l.disconnect();return}O(o),h(i).then(d=>{let g=d.getElementPointInfinity();$(d.getElementProduct()),w(g,m),S(d.getElementShowing())}).finally(()=>{R(o)})}catch(s){console.error(s)}}})});l.observe(c)}}function k(c){c&&c.addEventListener("change",l=>{let u=l.target.value,r=l.target.dataset.sectionId;function o(e){e.set("sort_by",u)}let a=L(o,window.location.href.split("?")[1]);history.pushState(null,null,a),a=A(a,r),h(a).then(e=>{b(e.getElementProduct()),w(e.getElementPointInfinity(),m),S(e.getElementShowing())})})}function N(c){c&&c.addEventListener("change",l=>{let u=l.target.value,r=l.target.dataset.sectionId,o=`${window.Shopify.routes.root}cart/update.js`,a={attributes:{items_per_page:u},sections:[r],section_url:location.pathname+location.search},e={method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}};h(o,e).then(()=>{let s=location.pathname;s+=location.search,s+=location.search.includes("?")?"&":"?",s+="section_id="+r,h(s).then(i=>{b(i.getElementProduct()),w(i.getElementPointInfinity(),m),q(i.getPaginate(),_),S(i.getElementShowing())})})})}async function F(c){c&&c.forEach(l=>{l.addEventListener("change",async u=>{let r=u.target.value,o=u.target.name,a=u.target.dataset.sectionId;try{let s=U(function(d){u.target.checked?(d[o]||(d[o]=[]),d[o].push(r)):d[o]&&(d[o]=d[o].filter(g=>g!==r))},window.location.search);history.pushState(null,null,s),s=A(s,a);let i=await h(s);b(i.getElementProduct()),C(i.getProductCount()),q(i.getPaginate(),_),S(i.getElementShowing()),w(i.getElementPointInfinity(),m)}catch(e){console.error(e)}})})}function T(c){if(c){let l={"filter.v.price.gte":0,"filter.v.price.lte":Number.MAX_SAFE_INTEGER};c.forEach(u=>{u.addEventListener("change",r=>{let o=r.target.value,a=r.target.name,e=r.target.dataset.max,s=r.target.dataset.sectionId;l["filter.v.price.lte"]=e,l[a]=o;try{let d=U(function(p){for(let E in l)p[E]=[],p[E].push(l[E])},window.location.search);history.pushState(null,null,d);let g=A(d,s);h(g).then(p=>{b(p.getElementProduct()),C(p.getProductCount()),w(p.getElementPointInfinity(),m),q(p.getPaginate(),_),S(p.getElementShowing())})}catch(i){console.error(i)}})})}}function _(c){c&&c.forEach(l=>{l.addEventListener("click",u=>{let r=u.currentTarget,o=r.dataset.url,a=r.dataset.sectionId;function e(i){i.set("section_id",a)}let s=L(e,o.split("?")[1]);h(s).then(i=>{b(i.getElementProduct()),q(i.getPaginate(),_),S(i.getElementShowing())})})})}function B(){let c=document.querySelector(".collection__toolbar__filter"),l=document.querySelectorAll(".collection__toolbar-filter-btn"),u=document.querySelectorAll(".collection__toolbar-filter-btn.dropdown"),r=document.querySelectorAll(".collection__toolbar-filter-btn.sidebar"),o=document.querySelector(".collection__toolbar__filter-sidebar"),a=document.querySelector(".collection__toolbar__filter-sidebar > span");l.forEach(e=>{e.addEventListener("click",()=>{let s=e.getAttribute("data-state");!s||s==="closed"?(e.setAttribute("data-state","opened"),e.setAttribute("aria-expanded","true")):(e.setAttribute("data-state","closed"),e.setAttribute("aria-expanded","false")),a&&a.addEventListener("click",()=>{o.classList.remove("active"),e.setAttribute("data-state","closed"),e.setAttribute("aria-expanded","false")})})}),u.forEach(e=>{e.addEventListener("click",()=>{c&&c.classList.toggle("active")})}),r.forEach(e=>{e.addEventListener("click",()=>{o&&o.classList.add("active")})})}M();document.addEventListener("shopify:section:load",M);function M(){let c=document.querySelector("#infinity_point"),l=document.querySelector("#sort_by"),u=document.querySelectorAll('input[type="checkbox"]'),r=document.querySelectorAll('input[type="number"]'),o=document.querySelectorAll(".paginate_link[data-url]"),a=document.querySelector("#show");m(c),k(l),F(u),T(r),_(o),N(a),B()}})();
