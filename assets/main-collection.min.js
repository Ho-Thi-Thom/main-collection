(()=>{var k=document.querySelector("#infinity_point"),w=document.querySelector("#sort_by"),I=document.querySelector("#show"),x=document.querySelectorAll('input[type="checkbox"]'),H=document.querySelectorAll('input[type="number"]'),F=document.querySelectorAll(".paginate_link[data-url]"),{loading:N,createUrl:P,hiddenLoading:T,getApi:m,appendProduct:j,setProduct:_,updateCount:M,updatePointInfinity:q,updatePaginate:v,createUrlFilter:B}=O();b(k);function b(e){if(e){let c=new IntersectionObserver(i=>{i.forEach(o=>{if(o.isIntersecting){let l=function(p){p.set("section_id",a)};var u=l;let n=o.target,d=n.dataset.url,a=n.dataset.sectionId,S=P(l,d.split("?")[1]);N(n),m(S).then(p=>{let y=p.getElementPointInfinity();j(p.getElementProduct()),q(y),y.dataset.url||c.disconnect()}).finally(()=>{T(n)})}})});c.observe(e)}}w&&w.addEventListener("change",e=>{let c=e.target.value,i=e.target.dataset.sectionId;function o(n){n.set("sort_by",c)}let u=P(o,window.location.href.split("?")[1]);history.pushState(null,null,u),u+=u.includes("?")?"&":"?",u+=`section_id=${i}`,m(u).then(n=>{_(n.getElementProduct()),q(n.getElementPointInfinity())})});I&&I.addEventListener("change",e=>{let c=e.target.value,i=e.target.dataset.sectionId,o=`${window.Shopify.routes.root}cart/update.js`,u={attributes:{items_per_page:c},sections:[i]},n={method:"POST",body:JSON.stringify(u),headers:{"Content-Type":"application/json"}};function d(a){return a.json().then(l=>l.sections[i])}m(o,n,d).then(a=>{_(a.getElementProduct()),q(a.getElementPointInfinity()),v(a.getPaginate())})});L(F);function L(e){e&&e.forEach(c=>{c.addEventListener("click",i=>{let o=i.target,u=o.dataset.url,n=o.dataset.sectionId;function d(l){l.set("section_id",n)}let a=P(d,u.split("?")[1]);m(a).then(l=>{_(l.getElementProduct()),v(l.getPaginate())})})})}function O(){let e=document.querySelector("#collection__products"),c=document.querySelector(".product_count"),i=document.querySelector("#infinity_point"),o=document.querySelector(".paginate");function u(t){t.innerHTML="Loading..."}function n(t){t.innerHTML=""}function d(t,r){let f=new URLSearchParams(r);return t(f),window.location.pathname+"?"+f.toString()}function a(t,r){let f=new URLSearchParams(r),s={};f.forEach(function(h,g){s[g]||(s[g]=[]),s[g].push(h)}),t(s);let E=new URLSearchParams;return Object.keys(s).forEach(h=>{s[h].forEach(g=>{E.append(h,g)})}),`${window.location.pathname}?${E.toString()}`}function l(t,r,f){return fetch(t,r).then(s=>f?.(s)??s.text()).then(s=>A(s))}function S(t){t.querySelectorAll("#collection__products > *")?.forEach(r=>{e?.appendChild(r)})}function p(t){e&&(e.parentNode.replaceChild(t,e),e=document.querySelector("#collection__products"))}function y(t){c&&(c.parentNode.replaceChild(t,c),c=document.querySelector(".product_count"))}function C(t){i&&(i.parentNode.replaceChild(t,i),i=document.querySelector("#infinity_point"),b(document.querySelector("#infinity_point")))}function U(t){o&&(o.parentNode.replaceChild(t,o),o=document.querySelector(".paginate"),L(document.querySelectorAll(".paginate_link[data-url]")))}function A(t){let r=document.createElement("div");return r.innerHTML=t,{getElementProduct(){return r.querySelector("#collection__products")},getProductCount(){return r.querySelector(".product_count")},getElementPointInfinity(){return r.querySelector("#infinity_point")},getPaginate(){return r.querySelector(".paginate")}}}return{loading:u,hiddenLoading:n,getApi:l,appendProduct:S,setProduct:p,updateCount:y,updatePointInfinity:C,createUrl:d,updatePaginate:U,createUrlFilter:a}}})();
