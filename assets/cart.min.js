(()=>{function m(o,a){let n=document.createElement("div");n.innerHTML=o;let i=document.querySelector(`li.cart__item.jsLineItem[data-line-index="${a}"]`),u=n.querySelector(`li.cart__item.jsLineItem[data-line-index="${a}"]`),t=i.querySelectorAll(".jsLineUpdate"),e=u.querySelectorAll(".jsLineUpdate");t.forEach((c,r)=>{c.parentNode.replaceChild(e[r],c)})}function h(o,a,n=!0){o&&(o(),n&&document.addEventListener("shopify:section:load",i=>{i.detail.sectionId===a&&o()}))}function S(o,a){var n=null;return function(){clearTimeout(n);var i=arguments,u=this;n=setTimeout(function(){o.apply(u,i)},a)}}async function y(o){let{variantId:a,newQuantity:n,sectionId:i}=o;return await(await fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:n,sections:i})})).json()}var I=document.querySelector(".cart-section-wrapper").dataset.sectionId;h(v,I);function v(){let o=document.querySelectorAll(".cart__item .remove__qlt"),a=document.querySelectorAll(".cart__item .add__qlt");function n(t,e,c){return t=parseInt(t),e=parseInt(e),c=parseInt(c),Math.max(Math.min(t,e),c)}function i(t=[],e){!t||t.length===0||!e||typeof e!="function"||t.forEach(c=>{let r=null;c.addEventListener("click",d=>{let f=d.target.closest(".cart__item.jsLineItem").dataset.lineIndex,s=document.querySelector(`.cart__item.jsLineItem[data-line-index="${f}"] .quantity__input`);s.value=e(parseInt(s.value)),r&&clearTimeout(r),r=setTimeout(async()=>{let p=n(s.value,s.getAttribute("max"),s.getAttribute("min"));s.value=p;let l=s.getAttribute("data-sections"),g={variantId:s.getAttribute("data-key"),newQuantity:p,sectionId:l};try{let _=(await y(g)).sections[l];m(_,f)}catch(w){}},1e3)})})}i(a,t=>t+1),i(o,t=>t-1),document.querySelectorAll(".cart__item .quantity__input").forEach(function(t){t.addEventListener("keydown",function(e){e.key==="Enter"&&e.preventDefault()}),t.addEventListener("input",S(async e=>{let c=e.target.closest(".cart__item.jsLineItem").dataset.lineIndex,r=e.target,d=n(r.value,r.getAttribute("max"),r.getAttribute("min"));r.value=d;let s={variantId:r.getAttribute("data-key"),newQuantity:d,sectionId:I};try{let l=(await y(s)).sections[I];m(l,c)}catch(p){}},2e3))})}})();
