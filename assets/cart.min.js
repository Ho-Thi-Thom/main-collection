(()=>{function d(n,r){let o=document.createElement("div");o.innerHTML=n;let t=document.querySelector(`ul.cart__item.jsLineItem[data-line-index="${r}"]`),e=o.querySelector(`ul.cart__item.jsLineItem[data-line-index="${r}"]`),a=t.querySelectorAll(".jsLineUpdate"),i=e.querySelectorAll(".jsLineUpdate");return a.forEach((c,s)=>{c.replaceWith(i[s])}),t}function p(n,r,o=!0){n&&(n(),o&&document.addEventListener("shopify:section:load",t=>{t.detail.sectionId===r&&n()}))}async function l(n){let{variantId:r,newQuantity:o,sectionId:t}=n;return await(await fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:r,quantity:o,sections:t})})).json()}var y=document.querySelector(".cart-section-wrapper").dataset.sectionId;p(h,y);function h(){let n=document.querySelectorAll(".cart__item .remove__qlt"),r=document.querySelectorAll(".cart__item .add__qlt");async function o(t,e,a){a.preventDefault();let i=e.closest(".cart__item.jsLineItem").dataset.lineIndex,c=document.querySelector(`.cart__item.jsLineItem[data-line-index="${i}"] .quantity__input`),s=c.getAttribute("data-sections"),f=c.getAttribute("data-key").split(":")[0],u=0;switch(t){case"add":u=parseInt(c.getAttribute("value"))+1;break;case"remove":u=parseInt(c.getAttribute("value"))-1;break;default:break}let m=(await l({variantId:f,newQuantity:u,sectionId:s})).sections[s];d(m,i)}r.forEach(function(t){t.addEventListener("click",e=>o("add",e.target,e))}),n.forEach(function(t){t.addEventListener("click",e=>o("remove",e.target,e))})}})();
