(()=>{function S(n){return n.charAt(0).toUpperCase()+n.slice(1)}function b(n){let o=document.querySelector("#popup-info"),t=document.querySelector("#popup-info .title"),e=document.querySelector("#popup-info .wrapper-content"),{type:r,title:i,textContent:l}=n;t.setAttribute("data-type",r),t.innerHTML=i.trim(),e.innerHTML=l.trim(),o.classList.add("active"),m(q,1e3)()}function q(){document.querySelector("#popup-info").classList.remove("active")}function m(n,o){var t=null;return function(){clearTimeout(t);var e=arguments,r=this;t=setTimeout(function(){n.apply(r,e)},o)}}function k(){let n=null,o=null,t=null,e=null,r=()=>{n&&n.destroy(),o&&o.destroy();let a=e?"horizontal":"vertical",c=document.querySelector("#customize"),s=document.querySelector("#customize-thumbnails");return n=tns({container:c,navContainer:s||void 0,controlsContainer:"#controls",items:1,axis:"horizontal",autoplay:!1,autoplayTimeout:1e3,speed:400,mouseDrag:!0,loop:!1,controls:!0,nav:!0}),s&&(o=tns({container:s,items:3,axis:a,autoplay:!1,autoplayTimeout:1e3,speed:400,mouseDrag:!0,loop:!1,controls:!0,controlsContainer:"#customize-controls",nav:!1}),n.events.on("indexChanged",function(f){o.goTo(f.index)})),n},i=m(()=>{let a=window.matchMedia("(max-width: 1023px)").matches;e!==null&&e!==a&&(e=a,r())},500),l=()=>{t&&t.disconnect();let a=document.querySelector("#customize");t=new ResizeObserver(i),t.observe(a)},p=()=>{t&&(t.disconnect(),t=null)};return(()=>{e=window.matchMedia("(max-width: 1023px)").matches,r(),l(),window.addEventListener("resize",i)})(),{slider:n,cleanup:p}}function x(n,o,t=!1){if(t)return;let e=document.querySelector(".compare-price"),r=document.querySelector(".price");e.parentNode.replaceChild(n,e),r.parentNode.replaceChild(o,r)}function C(n,o=!1){if(o)return;let t=document.querySelector(".variant-inventory");t.parentNode.replaceChild(n,t)}function v(n,o=!1){let t=document.querySelector(".btn-add");if(o){t.setAttribute("disabled","");let e=t.querySelector("span");t.setAttribute("data-selected-quantity",0),e.textContent="Not Available";return}if(t&&n){let e=t.querySelector("span"),r=n.querySelector("span");e&&r&&e.parentNode.replaceChild(r,e);let i=n.getAttribute("data-selected-quantity");i&&t.setAttribute("data-selected-quantity",i),parseInt(i)===0?t.setAttribute("disabled","true"):document.querySelector(".cart__condition").classList.contains("checked")&&t.removeAttribute("disabled")}}function w(n,o=!1){if(o)return;let t=document.querySelector(".product-sku");t.parentNode.replaceChild(n,t)}function g(n,o=!1){if(o)return;let t=document.querySelector(".jsSubmit");t.value=n.value}function L(n){let o=n();o?fetch(o).then(t=>t.text()).then(t=>{let e=document.createElement("div");e.innerHTML=t,x(e.querySelector(".compare-price"),e.querySelector(".price")),C(e.querySelector(".variant-inventory")),v(e.querySelector(".btn-add")),w(e.querySelector(".product-sku")),g(e.querySelector(".jsSubmit"))}):(v(null,!0),b({type:"warring",title:"Not found",textContent:"Variant does not exist"}))}function P(n,o,t){t=S(t);let e=o.filter(c=>c.name!==t).map(c=>c.position),r=o.find(c=>c.name===t),i=r?r.position:null,p=[...new Set(n)].reduce((c,s)=>(s.split(" / ").filter((d,u)=>u!==i-1).forEach((d,u)=>{c[u]||(c[u]=[]),c[u].includes(d)||c[u].push(d)}),c),[]),h=e.map((c,s)=>[c,p[s]]),a=document.querySelectorAll(".check-position");h.forEach(c=>{a.forEach(s=>{if(c[0]==s.dataset.position){let f=s.querySelectorAll('input[type="radio"]'),y=s.querySelectorAll("option");Array.from(f).concat(Array.from(y)).forEach(d=>{let u=d.value;c[1].includes(u)?d.setAttribute("data-disabled","false"):d.setAttribute("data-disabled","true")})}})})}function T(n,o){let t=[];return n&&n.forEach(e=>{e.querySelectorAll("option").forEach(i=>{let l=i.value;i.selected&&t.push(l)})}),o&&o.forEach(e=>{let r=e.value;e.checked&&t.push(r)}),t}function z(){document.getElementById("cart-condition").addEventListener("click",function(o){let t=document.querySelector(".cart__condition"),e=document.querySelector("button[name='add']");if(this.checked){t.classList.add("checked");let r=e.getAttribute("data-selected-quantity");parseInt(r)!==0&&e.removeAttribute("disabled")}else t.classList.remove("checked"),e.setAttribute("disabled","")})}})();
