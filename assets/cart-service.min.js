(()=>{function u(t,a){let e=document.createElement("div");e.innerHTML=t;let n=document.querySelector(`li.cart__item.jsLineItem[data-line-index="${a}"]`),r=e.querySelector(`li.cart__item.jsLineItem[data-line-index="${a}"]`),d=n.querySelectorAll(".jsLineUpdate"),s=r.querySelectorAll(".jsLineUpdate"),i=document.querySelectorAll(".js-cart-update"),l=e.querySelectorAll(".js-cart-update");d.forEach((c,o)=>{c.parentNode.replaceChild(s[o],c)}),i.forEach((c,o)=>{c.parentNode.replaceChild(l[o],c)})}function p(t){fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({note:t})})}async function m(t){let{variantId:a,newQuantity:e,sectionId:n}=t;return await(await fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:e,sections:n})})).json()}function y(t,a,e){let n=document.querySelector(`.cart__item.jsLineItem[data-line-index="${e}"] .add__qlt`);switch(a){case"add":+t.value==+t.max&&(n.disabled=!0);break;case"remove":n.disabled=!1;break;default:break}}function f(){document.querySelectorAll(".jsLineItem").forEach(a=>{let e=a.querySelector(".quantity__input"),n=parseInt(e.getAttribute("max")),r=a.querySelector(".add__qlt");e.value===n.toString()?r.disabled=!0:r.disabled=!1})}})();
