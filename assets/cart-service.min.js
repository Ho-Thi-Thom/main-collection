(()=>{function p(t,a,n){let e=document.createElement("div");e.innerHTML=t;let r=document.querySelector(`li.cart__item.jsLineItem[data-line-index="${a}"]`);if(n)r.remove();else{let c=e.querySelector(`li.cart__item.jsLineItem[data-line-index="${a}"]`),o=r.querySelectorAll(".jsLineUpdate"),l=c.querySelectorAll(".jsLineUpdate");o.forEach((s,u)=>{s.parentNode.replaceChild(l[u],s)})}let d=document.querySelectorAll(".js-cart-update"),i=e.querySelectorAll(".js-cart-update");d.forEach((c,o)=>{c.parentNode.replaceChild(i[o],c)})}function m(t){fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({note:t})})}async function f(t){let{variantId:a,newQuantity:n,sectionId:e}=t;return await(await fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:n,sections:e})})).json()}function y(t,a,n){let e=document.querySelector(`.cart__item.jsLineItem[data-line-index="${n}"] .add__qlt`);switch(a){case"add":+t.value==+t.max&&(e.disabled=!0);break;case"remove":e.disabled=!1;break;default:break}}function j(){document.querySelectorAll(".jsLineItem").forEach(a=>{let n=a.querySelector(".quantity__input"),e=parseInt(n.getAttribute("max")),r=a.querySelector(".add__qlt");n.value===e.toString()?r.disabled=!0:r.disabled=!1})}})();
