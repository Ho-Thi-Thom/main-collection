(()=>{function p(t,a,n){let e=document.createElement("div");e.innerHTML=t;let c=document.querySelector(`li.cart__item.jsLineItem[data-line-index="${a}"]`);if(n)c.remove(),console.log("check");else{let o=e.querySelector(`li.cart__item.jsLineItem[data-line-index="${a}"]`),r=c.querySelectorAll(".jsLineUpdate"),l=o.querySelectorAll(".jsLineUpdate");r.forEach((s,u)=>{s.parentNode.replaceChild(l[u],s)})}let d=document.querySelectorAll(".js-cart-update"),i=e.querySelectorAll(".js-cart-update");d.forEach((o,r)=>{o.parentNode.replaceChild(i[r],o)})}function m(t){fetch("/cart/update.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({note:t})})}async function f(t){let{variantId:a,newQuantity:n,sectionId:e}=t;return await(await fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,quantity:n,sections:e})})).json()}function y(t,a,n){let e=document.querySelector(`.cart__item.jsLineItem[data-line-index="${n}"] .add__qlt`);switch(a){case"add":+t.value==+t.max&&(e.disabled=!0);break;case"remove":e.disabled=!1;break;default:break}}function h(){document.querySelectorAll(".jsLineItem").forEach(a=>{let n=a.querySelector(".quantity__input"),e=parseInt(n.getAttribute("max")),c=a.querySelector(".add__qlt");n.value===e.toString()?c.disabled=!0:c.disabled=!1})}})();
